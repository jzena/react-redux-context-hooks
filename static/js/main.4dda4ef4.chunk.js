(this["webpackJsonpreact-redux-context-hooks"]=this["webpackJsonpreact-redux-context-hooks"]||[]).push([[0],{26:function(t,e,a){t.exports=a(42)},36:function(t,e,a){},37:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),o=a(9),l=a(23),u=a(21),d=(a(36),a(4)),s=a(5),m=a(7),p=a(6),f=a(44),h=a(46),v=a(24),b=a(12),E=a(17),O=r.a.createContext({products:[{id:"p1",title:"Gaming Mouse",price:29.99},{id:"p2",title:"Harry Potter 3",price:9.99},{id:"p3",title:"Used plastic bottle",price:.99},{id:"p4",title:"Half-dried plant",price:2.99}],cart:[],addProductToCart:function(t){},removeProductFromCart:function(t){}}),y=function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={products:[{id:"p1",title:"Gaming Mouse",price:29.99},{id:"p2",title:"Harry Potter 3",price:9.99},{id:"p3",title:"Used plastic bottle",price:.99},{id:"p4",title:"Half-dried plant",price:2.99}],cart:[]},t.addProductToCart=function(e){console.log("Adding product",e);var a=Object(E.a)(t.state.cart),n=a.findIndex((function(t){return t.id===e.id}));if(n<0)a.push(Object(b.a)({},e,{quantity:1}));else{var r=Object(b.a)({},a[n]);r.quantity++,a[n]=r}setTimeout((function(){t.setState({cart:a})}),700)},t.removeProductFromCart=function(e){console.log("Removing product with id: "+e);var a=Object(E.a)(t.state.cart),n=a.findIndex((function(t){return t.id===e})),r=Object(b.a)({},a[n]);r.quantity--,r.quantity<=0?a.splice(n,1):a[n]=r,setTimeout((function(){t.setState({cart:a})}),700)},t}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(O.Provider,{value:{products:this.state.products,cart:this.state.cart,addProductToCart:this.addProductToCart,removeProductFromCart:this.removeProductFromCart}},this.props.children)}}]),a}(n.Component),j=a(45),C=(a(37),function(t){return r.a.createElement("header",{className:"main-navigation"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j.a,{to:"/"},"Products")),r.a.createElement("li",null,r.a.createElement(j.a,{to:"/cart"},"Cart (",t.cartItemNumber,")")))))}),g=(a(39),function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(O.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{cartItemNumber:e.cart.reduce((function(t,e){return t+e.quantity}),0)}),r.a.createElement("main",{className:"products"},r.a.createElement("ul",null,e.products.map((function(a){return r.a.createElement("li",{key:a.id},r.a.createElement("div",null,r.a.createElement("strong",null,a.title)," - $",a.price),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.addProductToCart.bind(t,a)},"Add to Cart")))})))))}))}}]),a}(n.Component)),x=(a(40),function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(this.context)}},{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{cartItemNumber:this.context.cart.reduce((function(t,e){return t+e.quantity}),0)}),r.a.createElement("main",{className:"cart"},this.context.cart.length<=0&&r.a.createElement("p",null,"No Item in the Cart!"),r.a.createElement("ul",null,this.context.cart.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",null,r.a.createElement("strong",null,e.title)," - $",e.price," (",e.quantity,")"),r.a.createElement("div",null,r.a.createElement("button",{onClick:t.context.removeProductFromCart.bind(t,e.id)},"Remove from Cart")))})))))}}]),a}(n.Component));x.contextType=O;var P=x,k=(a(41),function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement(f.a,null,r.a.createElement(h.a,null,r.a.createElement(v.a,{path:"/",component:g,exact:!0}),r.a.createElement(v.a,{path:"/cart",component:P,exact:!0}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(8),q=a(16),w={products:[{id:"p1",title:"Gaming Mouse",price:29.99},{id:"p2",title:"Harry Potter 3",price:9.99},{id:"p3",title:"Used plastic bottle",price:.99},{id:"p4",title:"Half-dried plant",price:2.99}],cart:[],cartSum:0},I=function(){var t,e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_PRODUCT_TO_CART":if((e=(t=Object(q.a)(a.cart)).findIndex((function(t){return t.id===n.payload.id})))<0)t.push(Object(T.a)({},n.payload,{quantity:1}));else{var r=Object(T.a)({},t[e]);r.quantity++,t[e]=r}return Object(T.a)({},a,{cart:t});case"REMOVE_PRODCUT_FROM_CART":e=(t=Object(q.a)(a.cart)).findIndex((function(t){return t.id===n.payload}));var c=Object(T.a)({},t[e]);return c.quantity--,c.quantity<=0?t.splice(e,1):t[e]=c,Object(T.a)({},a,{cart:t});default:return a}},F=Object(o.c)(I,Object(o.a)(u.a));i.a.render(r.a.createElement(l.a,{store:F},r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.4dda4ef4.chunk.js.map